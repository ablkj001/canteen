"use strict";(self["webpackChunkschool_canteen_shop_backstage"]=self["webpackChunkschool_canteen_shop_backstage"]||[]).push([[758],{5758:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var s=function(){var e=this,t=e._self._c;return t("div",[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("商家评论管理")])]),t("div",{staticClass:"search-box"},[t("el-form",{attrs:{inline:!0,model:e.search}},[t("el-form-item",[t("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:"100",placeholder:"请输入内容"},model:{value:e.search.keyword,callback:function(t){e.$set(e.search,"keyword",t)},expression:"search.keyword"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.searchFn}},[e._v("搜索")])],1)],1)],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""}},[t("el-table-column",{attrs:{label:"用户名",align:"center",prop:"uname",width:"120"}}),t("el-table-column",{attrs:{label:"菜品名称",prop:"dname",align:"center",width:"150"}}),t("el-table-column",{attrs:{label:"评论时间",prop:"date",align:"center",width:"150"}}),t("el-table-column",{attrs:{label:"评论详情",prop:"detail",align:"center"}})],1),t("el-pagination",{attrs:{"current-page":e.search.pagenum,"page-size":e.search.pagesize,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChangeFn,"update:currentPage":function(t){return e.$set(e.search,"pagenum",t)},"update:current-page":function(t){return e.$set(e.search,"pagenum",t)},"update:pageSize":function(t){return e.$set(e.search,"pagesize",t)},"update:page-size":function(t){return e.$set(e.search,"pagesize",t)}}})],1)],1)},r=[],n=a(586),i={name:"shop_comments_CMD",data(){return{search:{pagenum:1,pagesize:8,keyword:""},formLabelWidth:"120px",total:0,tableData:[]}},methods:{async initCommentsListFn(){const{data:e}=await(0,n.au)(this.search);if(0!=e.code)return this.$message.error("获取评论列表错误！");this.tableData=e.data,this.tableData.forEach((e=>{e.date=this.myDateFormat(e.date)})),this.total=e.count},async searchFn(){if(""==this.search.keyword)return this.$message("请输入搜索用户名或菜品名！"),this.initCommentsListFn();const{data:e}=await(0,n.AX)({...this.search,page:this.search.pagenum});if(console.log(e),0!=e.code)return this.$message.error("获取评论列表错误！");this.tableData=e.data,this.tableData.forEach((e=>{e.date=this.myDateFormat(e.date)})),this.total=e.count},handleCurrentChangeFn(e){this.search.pagenum=e,this.initCommentsListFn()}},mounted(){this.initCommentsListFn()}},l=i,c=a(1001),o=(0,c.Z)(l,s,r,!1,null,"2984ccba",null),h=o.exports}}]);
//# sourceMappingURL=758.586a32d2.js.map