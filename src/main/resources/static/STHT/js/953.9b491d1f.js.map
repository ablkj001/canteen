{"version":3,"file":"js/953.9b491d1f.js","mappings":"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","sources":["webpack://school_canteen_backstage/./src/views/room/index.vue","webpack://school_canteen_backstage/src/views/room/index.vue","webpack://school_canteen_backstage/./src/views/room/index.vue?e472","webpack://school_canteen_backstage/./src/views/room/index.vue?66ad"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"header\"},[_vm._v(\"食堂管理\")]),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"searchBox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchKey),expression:\"searchKey\"}],staticClass:\"searchInput\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入查找内容\"},domProps:{\"value\":(_vm.searchKey)},on:{\"input\":function($event){if($event.target.composing)return;_vm.searchKey=$event.target.value}}}),_c('button',{staticClass:\"searchBtn\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.searchRoomListFn}},[_vm._v(\" 搜索 \")]),_c('button',{staticClass:\"addBtn\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.addRoom}},[_vm._v(\"添加\")])]),_c('div',{staticClass:\"listBox\"},[_c('div',{staticClass:\"list\"},[[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"rid\",\"label\":\"食堂ID\",\"width\":\"150\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"rname\",\"label\":\"食堂名称\",\"width\":\"150\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"tel\",\"label\":\"联系电话\",\"width\":\"150\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"date\",\"label\":\"开设时间\",\"width\":\"150\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ row }){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.updateRoom(row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.deleteRoom(row)}}},[_vm._v(\"解散\")])]}}])})],1)]],2),_c('div',{staticClass:\"pager\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.search.pagenum,\"page-size\":_vm.search.pagesize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChangeFn,\"update:currentPage\":function($event){return _vm.$set(_vm.search, \"pagenum\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.search, \"pagenum\", $event)},\"update:pageSize\":function($event){return _vm.$set(_vm.search, \"pagesize\", $event)},\"update:page-size\":function($event){return _vm.$set(_vm.search, \"pagesize\", $event)}}})],1)])]),_c('el-dialog',{attrs:{\"title\":_vm.isEdit ? '编辑食堂' : '添加食堂',\"visible\":_vm.dialogFormVisible,\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"roomREF\",attrs:{\"model\":_vm.form,\"rules\":_vm.roomRuls}},[_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.form.rid),expression:\"form.rid\"}],attrs:{\"label\":\"食堂ID\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"disabled\":\"\",\"autocomplete\":\"off\"},model:{value:(_vm.form.rid),callback:function ($$v) {_vm.$set(_vm.form, \"rid\", $$v)},expression:\"form.rid\"}})],1),_c('el-form-item',{attrs:{\"label\":\"食堂名称\",\"prop\":\"rname\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.rname),callback:function ($$v) {_vm.$set(_vm.form, \"rname\", $$v)},expression:\"form.rname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"联系电话\",\"prop\":\"tel\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.tel),callback:function ($$v) {_vm.$set(_vm.form, \"tel\", $$v)},expression:\"form.tel\"}})],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.form.date),expression:\"form.date\"}],attrs:{\"label\":\"开设时间\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"disabled\":\"\"},model:{value:(_vm.form.date),callback:function ($$v) {_vm.$set(_vm.form, \"date\", $$v)},expression:\"form.date\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addOrUpdate}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 头部标题 -->\r\n    <div class=\"header\">食堂管理</div>\r\n    <!-- 内容区域 -->\r\n    <div class=\"container\">\r\n      <!-- 搜搜区域 -->\r\n      <div class=\"searchBox\">\r\n        <input\r\n          class=\"searchInput\"\r\n          v-model=\"searchKey\"\r\n          type=\"text\"\r\n          placeholder=\"请输入查找内容\"\r\n        />\r\n\r\n        <button type=\"button\" class=\"searchBtn\" @click=\"searchRoomListFn\">\r\n          搜索\r\n        </button>\r\n        <button type=\"button\" class=\"addBtn\" @click=\"addRoom\">添加</button>\r\n      </div>\r\n      <!-- 展示列表区 -->\r\n      <div class=\"listBox\">\r\n        <!-- 食堂列表 -->\r\n        <div class=\"list\">\r\n          <template>\r\n            <el-table :data=\"tableData\" border stripe style=\"width: 100%\">\r\n              <el-table-column\r\n                prop=\"rid\"\r\n                label=\"食堂ID\"\r\n                width=\"150\"\r\n                align=\"center\"\r\n              >\r\n              </el-table-column>\r\n              <el-table-column\r\n                prop=\"rname\"\r\n                label=\"食堂名称\"\r\n                width=\"150\"\r\n                align=\"center\"\r\n              >\r\n              </el-table-column>\r\n              <el-table-column\r\n                prop=\"tel\"\r\n                label=\"联系电话\"\r\n                width=\"150\"\r\n                align=\"center\"\r\n              >\r\n              </el-table-column>\r\n              <el-table-column\r\n                prop=\"date\"\r\n                label=\"开设时间\"\r\n                width=\"150\"\r\n                align=\"center\"\r\n              >\r\n              </el-table-column>\r\n              <el-table-column label=\"操作\" align=\"center\">\r\n                <template v-slot=\"{ row }\">\r\n                  <el-button size=\"mini\" type=\"primary\" @click=\"updateRoom(row)\"\r\n                    >编辑</el-button\r\n                  >\r\n                  <el-button size=\"mini\" type=\"danger\" @click=\"deleteRoom(row)\"\r\n                    >解散</el-button\r\n                  >\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n          </template>\r\n        </div>\r\n        <!-- 分页器 -->\r\n        <div class=\"pager\">\r\n          <!-- 分页区域 -->\r\n          <el-pagination\r\n            @current-change=\"handleCurrentChangeFn\"\r\n            :current-page.sync=\"search.pagenum\"\r\n            :page-size.sync=\"search.pagesize\"\r\n            layout=\"total, prev, pager, next, jumper\"\r\n            :total=\"total\"\r\n          >\r\n          </el-pagination>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 表单dialog -->\r\n    <el-dialog\r\n      :title=\"isEdit ? '编辑食堂' : '添加食堂'\"\r\n      :visible.sync=\"dialogFormVisible\"\r\n      :before-close=\"handleClose\"\r\n    >\r\n      <el-form :model=\"form\" ref=\"roomREF\" :rules=\"roomRuls\">\r\n        <el-form-item\r\n          label=\"食堂ID\"\r\n          :label-width=\"formLabelWidth\"\r\n          v-show=\"form.rid\"\r\n        >\r\n          <el-input disabled v-model=\"form.rid\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"食堂名称\"\r\n          prop=\"rname\"\r\n          :label-width=\"formLabelWidth\"\r\n        >\r\n          <el-input v-model=\"form.rname\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"联系电话\" prop=\"tel\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"form.tel\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"开设时间\"\r\n          :label-width=\"formLabelWidth\"\r\n          v-show=\"form.date\"\r\n        >\r\n          <el-input v-model=\"form.date\" autocomplete=\"off\" disabled></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addOrUpdate\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getRoomListAPI,\r\n  searchRoomAPI,\r\n  updateRoomAPI,\r\n  addRoomAPI,\r\n  deleteRoomAPI,\r\n} from \"@/api/index\";\r\nexport default {\r\n  name: \"shopCMD\",\r\n  data() {\r\n    return {\r\n      // 搜索参数对象\r\n      search: {\r\n        pagenum: 1,\r\n        pagesize: 6,\r\n      },\r\n      // 总共的轮播图数\r\n      total: 0,\r\n      // 搜索关键词\r\n      searchKey: \"\",\r\n      // 判断是否处于编辑\r\n      isEdit: false,\r\n      // 用于控制dialogform\r\n      dialogFormVisible: false,\r\n      // 用于控制表单label的宽\r\n      formLabelWidth: \"120px\",\r\n      // 用于收集表单的数据\r\n      form: {\r\n        rid: \"\",\r\n        rname: \"\",\r\n        tel: \"\",\r\n        date: \"\",\r\n      },\r\n      tableData: [],\r\n      // 表单验证规则\r\n      roomRuls: {\r\n        rname: [\r\n          { required: true, message: \"请输入食堂名称\", trigger: \"blur\" },\r\n          {\r\n            min: 3,\r\n            max: 5,\r\n            message: \"菜品名的长度应在 3 到 5 个字符\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        tel: [\r\n          { required: true, message: \"请输入联系方式\", trigger: \"blur\" },\r\n          {\r\n            pattern: /^[0-9]{11}$/,\r\n            message: \"请输入正确格式的联系方式！\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  // ==========================================以下是data==========================================\r\n  methods: {\r\n    // Dialog关闭时调用的函数\r\n    async handleClose(done) {\r\n      // 询问用户是否确认关闭对话框\r\n      const confirmResult = await this.$confirm(\r\n        \"此操作将导致填写信息丢失, 是否继续?\",\r\n        \"提示\",\r\n        {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\",\r\n        }\r\n      ).catch((err) => err);\r\n\r\n      // 取消了关闭-阻止住, 什么都不干\r\n      if (confirmResult === \"cancel\") return this.$message(\"已取消!\");\r\n      // 确认关闭\r\n      // 清空关键数据\r\n      this.cleanForm();\r\n      done();\r\n    },\r\n    // 初始化食堂列表\r\n    async initRoomListFn() {\r\n      const { data: res } = await getRoomListAPI(this.search);\r\n      if (res.code != 0) return this.$message.error(\"获取食堂列表失败！\");\r\n      this.tableData = res.data;\r\n      this.total = res.count;\r\n    },\r\n    // 搜索按钮\r\n    async searchRoomListFn() {\r\n      if (this.searchKey == \"\") {\r\n        this.$message(\"请输入搜索内容！\");\r\n        return this.initRoomListFn();\r\n      }\r\n      const { data: res } = await searchRoomAPI({\r\n        pagenum: 1,\r\n        keyword: this.searchKey,\r\n      });\r\n      console.log(res);\r\n      if (res.code != 0) {\r\n        this.$message.error(\"搜索失败！\");\r\n        this.initRoomListFn();\r\n      } else {\r\n        this.tableData = res.data;\r\n        this.total = this.count;\r\n      }\r\n    },\r\n    async deleteRoom(room) {\r\n      // 1. 询问用户是否要删除\r\n      const confirmResult = await this.$confirm(\r\n        \"若确定解散，则将遍历删除该食堂下的所有店铺，是否确认解散？\",\r\n        \"提示\",\r\n        {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\",\r\n        }\r\n      ).catch((err) => err);\r\n\r\n      // 2. 取消了删除\r\n      if (confirmResult === \"cancel\") return;\r\n      const { data: res } = await deleteRoomAPI({ rid: room.rid, status: 1 });\r\n      if (res.code != 0) return this.$message.error(\"删除食堂失败\");\r\n      this.$message.success(\"食堂删除成功！\");\r\n      this.initRoomListFn();\r\n    },\r\n    addRoom() {\r\n      this.cleanForm();\r\n      this.dialogFormVisible = true;\r\n      this.isEdit = false;\r\n    },\r\n    updateRoom(room) {\r\n      this.dialogFormVisible = true;\r\n      this.isEdit = true;\r\n      this.form = { ...room };\r\n    },\r\n\r\n    async addRoomFn() {\r\n      const { data: res } = await addRoomAPI(this.form);\r\n      console.log(res);\r\n      if (res.code != 0) return this.$message.error(\"添加食堂失败！\");\r\n      this.$message.success(\"添加成功！\");\r\n      this.initRoomListFn();\r\n      this.dialogFormVisible = false;\r\n    },\r\n    async updateRoomFn() {\r\n      const { data: res } = await updateRoomAPI(this.form);\r\n      console.log(res);\r\n      if (res.code != 0) return this, this.$message.error(\"食堂信息修改失败！\");\r\n      this.$message.success(\"食堂信息修改成功！\");\r\n      this.initRoomListFn();\r\n      this.dialogFormVisible = false;\r\n    },\r\n    addOrUpdate() {\r\n      this.$refs.roomREF.validate(async (valid) => {\r\n        if (valid) {\r\n          // 检验成功，准备发起请求\r\n          if (this.isEdit) return this.updateRoomFn();\r\n          return this.addRoomFn();\r\n        } else {\r\n          return this.$message.error(\"表单数据有误，请重新编辑。\");\r\n        }\r\n      });\r\n    },\r\n    // 清空表单数据\r\n    cleanForm() {\r\n      // 清空关键数据\r\n      this.form.rid = \"\";\r\n      this.form.rname = \"\";\r\n      this.form.tel = \"\";\r\n      this.form.date = \"\";\r\n    },\r\n    // 页码值发生了变化\r\n    handleCurrentChangeFn(newPage) {\r\n      // 为页码值赋值\r\n      this.search.pagenum = newPage;\r\n      // 重新发起请求\r\n      this.initRoomListFn();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.initRoomListFn();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.header {\r\n  height: 60px;\r\n  width: 80%;\r\n  margin: 0 auto;\r\n  text-align: center;\r\n  line-height: 60px;\r\n  font-size: 40px;\r\n  font-family: \"幼圆\";\r\n  font-weight: 600;\r\n  color: rgb(84, 87, 87);\r\n  background-color: rgb(197, 199, 205);\r\n  border: rgb(183, 184, 187) solid 10px;\r\n  border-radius: 10px;\r\n}\r\n.container {\r\n  width: 90%;\r\n  height: 485px;\r\n  background-color: rgb(186, 193, 193);\r\n  margin: 10px auto;\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n}\r\n.searchBox {\r\n  width: 65%;\r\n  height: 40px;\r\n  margin: 10px auto;\r\n  vertical-align: middle;\r\n  overflow: hidden;\r\n}\r\n.searchInput {\r\n  width: 70%;\r\n  height: 30px;\r\n  font-size: 15px;\r\n  border-radius: 6px;\r\n  border: rgb(242, 240, 210) solid 1px;\r\n}\r\n.searchBtn {\r\n  width: 60px;\r\n  height: 30px;\r\n  font-size: 15px;\r\n  color: rgb(67, 70, 72);\r\n  background-color: rgb(169, 193, 225);\r\n  border: rgb(127, 171, 228) solid 2px;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  margin-left: 10px;\r\n}\r\n.searchBtn:active {\r\n  background-color: rgb(248, 248, 248);\r\n  border: rgb(232, 233, 235) solid 2px;\r\n}\r\n.addBtn {\r\n  width: 60px;\r\n  height: 30px;\r\n  font-size: 15px;\r\n  color: rgb(67, 70, 72);\r\n  background-color: rgb(239, 176, 76);\r\n  border: rgb(226, 192, 99) solid 2px;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  margin-left: 10px;\r\n}\r\n.addBtn:active {\r\n  background-color: rgb(248, 242, 124);\r\n  border: rgb(216, 229, 77) solid 2px;\r\n}\r\n.listBox {\r\n  width: 80%;\r\n  height: 400px;\r\n  background-color: rgb(244, 244, 245);\r\n  border-radius: 5px;\r\n  margin: auto;\r\n  overflow: hidden;\r\n}\r\n.list {\r\n  width: 98%;\r\n  height: 360px;\r\n  margin: 8px auto;\r\n  overflow: hidden;\r\n}\r\n.pager {\r\n  width: 65%;\r\n  height: 30px;\r\n  margin: auto;\r\n  margin-top: -8px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=77061655&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=77061655&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77061655\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","directives","name","rawName","value","searchKey","expression","attrs","domProps","on","$event","target","composing","searchRoomListFn","addRoom","staticStyle","tableData","scopedSlots","_u","key","fn","row","updateRoom","deleteRoom","search","pagenum","pagesize","total","handleCurrentChangeFn","$set","isEdit","dialogFormVisible","handleClose","ref","form","roomRuls","rid","formLabelWidth","model","callback","$$v","rname","tel","date","slot","addOrUpdate","staticRenderFns","data","required","message","trigger","min","max","pattern","methods","done","confirmResult","$confirm","confirmButtonText","cancelButtonText","type","catch","err","$message","cleanForm","res","getRoomListAPI","code","error","count","initRoomListFn","searchRoomAPI","keyword","console","log","room","deleteRoomAPI","status","success","addRoomAPI","updateRoomAPI","$refs","roomREF","validate","valid","updateRoomFn","addRoomFn","newPage","mounted","component"],"sourceRoot":""}