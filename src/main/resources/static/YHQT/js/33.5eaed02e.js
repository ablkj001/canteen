"use strict";(self["webpackChunkschool_canteen"]=self["webpackChunkschool_canteen"]||[]).push([[33],{3033:function(t,e,s){s.r(e),s.d(e,{default:function(){return m}});var i=function(){var t=this,e=t._self._c;return e("el-container",{staticClass:"main-container"},[e("el-header",[e("img",{attrs:{src:s(652),alt:""}}),e("el-menu",{staticClass:"el-menu-top",attrs:{mode:"horizontal","background-color":"#23262E","text-color":"#fff","active-text-color":"#409EFF"}},[e("el-menu-item",{attrs:{index:"2"},on:{click:t.logoutFn}},[e("i",{staticClass:"el-icon-switch-button"}),t._v("退出")])],1)],1),e("el-container",[e("el-aside",{attrs:{width:"200px"}},[e("div",{staticClass:"user-box"},[t.user_pic?e("img",{attrs:{src:t.user_pic,alt:""}}):e("img",{attrs:{src:s(634)}}),e("span",[t._v("欢迎 "+t._s(t.username))])]),e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.$route.fullPath,"background-color":"#23262E","text-color":"#fff","active-text-color":"#409EFF","unique-opened":"",router:""}},[e("el-menu-item",{attrs:{index:"/home"}},[e("i",{staticClass:"el-icon-s-home"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("首页")])]),e("el-submenu",{attrs:{index:"user"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-user"}),e("span",[t._v("用户中心")])]),e("el-menu-item-group",[e("el-menu-item",{attrs:{index:"/shop-cart"}},[e("i",{staticClass:"el-icon-shopping-cart-2"}),e("span",[t._v("购物车")])]),e("el-menu-item",{attrs:{index:"/order"}},[e("i",{staticClass:"el-icon-tickets"}),e("span",[t._v("用户订单")])]),e("el-menu-item",{attrs:{index:"/user-info"}},[e("i",{staticClass:"el-icon-edit"}),e("span",[t._v("基本资料")])]),e("el-menu-item",{attrs:{index:"/user-avatar"}},[e("i",{staticClass:"el-icon-picture-outline-round"}),e("span",[t._v("更换头像")])]),e("el-menu-item",{attrs:{index:"/user-pwd"}},[e("i",{staticClass:"el-icon-key"}),e("span",[t._v("重置密码")])])],1)],2),t._l(t.shopList,(function(s){return[e("el-submenu",{key:s.room.rid,attrs:{index:String(s.room.rid)}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-burger"}),e("span",[t._v(t._s(s.room.rname))])]),e("el-menu-item-group",t._l(s.shops,(function(s){return e("el-menu-item",{key:s.sid,attrs:{index:String("/shop?shopID="+s.sid)}},[e("i",{staticClass:"el-icon-s-shop"}),e("span",[t._v(t._s(s.sname))])])})),1)],2)]}))],2)],1),e("el-container",[e("el-main",[e("router-view")],1),e("el-footer",[t._v("© www.4399.com - 带给你快乐的网站")])],1)],1)],1)},n=[],a=(s(7658),s(586)),o=s(3822),r={name:"my-layout",data(){return{shopList:[]}},methods:{logoutFn(){this.$confirm("是否确认退出？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$store.commit("updateToken",""),this.$store.commit("updateUserInfo",{}),this.$router.push("/login")})).catch((t=>t))},async getShopList(){const{data:t}=await(0,a.PN)();if(0!==t.code)return this.$message.error("获取店铺列表失败");this.shopList=t.data}},computed:{...(0,o.Se)(["username","user_pic"])},created(){},mounted(){this.getShopList()}},l=r,c=s(1001),u=(0,c.Z)(l,i,n,!1,null,"1a6045d8",null),m=u.exports},634:function(t,e,s){t.exports=s.p+"img/defaultLOGO.2c22235d.jpg"},652:function(t,e,s){t.exports=s.p+"img/logo.8088c33f.png"}}]);
//# sourceMappingURL=33.5eaed02e.js.map