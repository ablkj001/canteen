{"version":3,"file":"js/944.b54476ea.js","mappings":"wKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,OAAQP,EAAIQ,MAAOC,WAAW,WAAWC,YAAY,OAAO,CAACR,EAAG,MAAM,CAACQ,YAAY,UAAU,CAACV,EAAIW,GAAGX,EAAIY,GAAGZ,EAAIa,WAAWC,UAAUZ,EAAG,MAAM,CAACQ,YAAY,QAAQ,CAACR,EAAG,MAAM,CAACQ,YAAY,WAAW,CAACR,EAAG,MAAM,CAACa,YAAY,CAAC,MAAQ,QAAQC,MAAM,CAAC,IAAMhB,EAAIa,WAAWI,YAAYf,EAAG,MAAM,CAACQ,YAAY,YAAY,CAACR,EAAG,MAAM,CAACQ,YAAY,YAAY,CAACV,EAAIW,GAAG,WAAWT,EAAG,OAAO,CAACQ,YAAY,QAAQ,CAACV,EAAIW,GAAGX,EAAIY,GAAGZ,EAAIa,WAAWK,YAAYhB,EAAG,MAAM,CAACQ,YAAY,YAAY,CAACV,EAAIW,GAAG,WAAWT,EAAG,OAAO,CAACQ,YAAY,QAAQ,CAACV,EAAIW,GAAG,IAAIX,EAAIY,GAAGZ,EAAIa,WAAWM,QAAQ,WAAWjB,EAAG,MAAM,CAACQ,YAAY,YAAY,CAACV,EAAIW,GAAG,UAAUT,EAAG,kBAAkB,CAACkB,IAAI,UAAUJ,MAAM,CAAC,IAAM,EAAE,IAAM,IAAIK,GAAG,CAAC,KAAOrB,EAAIsB,cAAcC,MAAM,CAAChB,MAAOP,EAAIwB,IAAKC,SAAS,SAAUC,GAAM1B,EAAIwB,IAAIE,CAAG,EAAEjB,WAAW,UAAU,GAAGP,EAAG,MAAM,CAACQ,YAAY,WAAW,CAACR,EAAG,SAAS,CAACQ,YAAY,UAAUW,GAAG,CAAC,MAAQrB,EAAI2B,cAAc,CAAC3B,EAAIW,GAAG,YAAYT,EAAG,SAAS,CAACQ,YAAY,SAASW,GAAG,CAAC,MAAQ,SAASO,GAAQ5B,EAAIQ,OAAQ,CAAI,IAAI,CAACR,EAAIW,GAAG,gBAAgBT,EAAG,MAAM,CAACkB,IAAI,SAASV,YAAY,UAAU,CAACR,EAAG,MAAM,CAACQ,YAAY,UAAU,CAACR,EAAG,SAAS,CAAC2B,MAAO7B,EAAI8B,WAAsC,YAAzB,uBAAqCT,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAO5B,EAAI+B,SAAS,EAAE,IAAI,CAAC/B,EAAIW,GAAG,YAAYT,EAAG,SAAS,CAAC2B,MAAM7B,EAAI8B,WAAa,yBAA2B,cAAcT,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAO5B,EAAI+B,SAAS,EAAE,IAAI,CAAC/B,EAAIW,GAAG,cAAcT,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,OAAQP,EAAI8B,WAAYrB,WAAW,gBAAgBC,YAAY,QAAQ,CAACR,EAAG,MAAM,CAACQ,YAAY,cAAc,CAACV,EAAIW,GAAGX,EAAIY,GAAGZ,EAAIa,WAAWmB,aAAa9B,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOP,EAAI8B,WAAYrB,WAAW,eAAeC,YAAY,YAAY,CAACR,EAAG,MAAM,CAACQ,YAAY,WAAW,CAACR,EAAG,WAAW,CAACE,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOP,EAAIiC,UAAWxB,WAAW,cAAcC,YAAY,YAAYM,MAAM,CAAC,KAAO,KAAK,KAAO,IAAI,YAAc,iBAAiBkB,SAAS,CAAC,MAASlC,EAAIiC,WAAYZ,GAAG,CAAC,MAAQ,SAASO,GAAWA,EAAOO,OAAOC,YAAiBpC,EAAIiC,UAAUL,EAAOO,OAAO5B,MAAK,KAAKL,EAAG,SAAS,CAACE,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAA+B,GAAxBP,EAAIiC,UAAUI,OAAa5B,WAAW,0BAA0BC,YAAY,gBAAgBW,GAAG,CAAC,MAAQrB,EAAIsC,cAAc,CAACtC,EAAIW,GAAG,cAAcT,EAAG,MAAM,CAACQ,YAAY,iBAAiB,CAACR,EAAG,WAAW,CAACa,YAAY,CAAC,MAAQ,QAAQC,MAAM,CAAC,KAAOhB,EAAIuC,aAAa,QAAS,EAAK,OAAS,SAAS,CAACrC,EAAG,kBAAkB,CAACc,MAAM,CAAC,KAAO,OAAO,MAAQ,KAAK,MAAQ,MAAM,MAAQ,YAAYd,EAAG,kBAAkB,CAACc,MAAM,CAAC,KAAO,QAAQ,MAAQ,KAAK,MAAQ,MAAM,MAAQ,YAAYd,EAAG,kBAAkB,CAACc,MAAM,CAAC,KAAO,SAAS,MAAQ,KAAK,MAAQ,aAAa,IAAI,GAAGd,EAAG,MAAM,CAACQ,YAAY,sBAAsB,CAACR,EAAG,gBAAgB,CAACc,MAAM,CAAC,eAAehB,EAAIwC,QAAQ,MAAQxC,EAAIyC,MAAM,YAAY,EAAE,WAAa,GAAG,OAAS,oCAAoCpB,GAAG,CAAC,iBAAiBrB,EAAI0C,cAAc,qBAAqB,SAASd,GAAQ5B,EAAIwC,QAAQZ,CAAM,EAAE,sBAAsB,SAASA,GAAQ5B,EAAIwC,QAAQZ,CAAM,MAAM,SAAS1B,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOP,EAAIQ,MAAOC,WAAW,UAAUC,YAAY,OAAO,CAACR,EAAG,YAAY,CAACc,MAAM,CAAC,MAAQ,aAAa,CAACd,EAAG,WAAW,CAACyC,KAAK,QAAQ,CAACzC,EAAG,MAAM,CAACQ,YAAY,UAAUM,MAAM,CAAC,IAAM4B,EAAQ,UAAgC1C,EAAG,WAAW,CAACyC,KAAK,SAAS,CAACzC,EAAG,YAAY,CAACc,MAAM,CAAC,KAAO,UAAU,KAAO,UAAUK,GAAG,CAAC,MAAQrB,EAAI6C,SAAS,CAAC7C,EAAIW,GAAG,WAAW,IAAI,IAAI,IACpiH,EACImC,EAAkB,G,SCoItB,GACAzC,KAAA,OAEA0C,OACA,OAEAC,OAAA,GAEAC,OAAA,GAEApC,WAAA,GAEA2B,QAAA,EAGAhB,IAAA,EAEAM,YAAA,EAGAG,UAAA,GAEAQ,MAAA,EAEAF,aAAA,GAEA/B,OAAA,EAEA,EAEA0C,QAAA,CAEA5B,aAAA6B,GACA,aAAAA,EAAAhB,OAAAiB,eACA,KAAAC,SAAAC,QAAA,WACA,KAAAC,MAAAC,QAAAC,QAEA,EAEA1B,SAAA2B,GACA,GAAAA,EACA,KAAA5B,YAAA,EACA,GAAA4B,IACA,KAAA5B,YAAA,EAEA,EAEAe,SACA,KAAAc,gBACA,KAAAnD,OAAA,CACA,EACA,sBACA,MAAAuC,KAAAa,SAAAC,EAAAA,EAAAA,IAAA,CACAC,IAAA,KAAAd,OACAe,IAAA,KAAAd,OACAe,MAAA,KAAAxC,MAGA,GADAyC,QAAAC,IAAAN,GACA,GAAAA,EAAAO,KACA,YAAAd,SAAAe,MAAA,kBACA,KAAAf,SAAAgB,QAAA,QACA,EAEA,uBACA,MAAAtB,KAAAa,SAAAU,EAAAA,EAAAA,IAAA,KAAAtB,QACA,OAAAY,EAAAO,KACA,YAAAd,SAAAe,MAAA,oCACAH,QAAAC,IAAAN,GACA,KAAA/C,WAAA+C,EAAAb,KACA,KAAAE,OAAAW,EAAAb,KAAAgB,GACA,EAEA,yBACA,MAAAhB,KAAAa,SAAAW,EAAAA,EAAAA,IAAA,CACAvB,OAAA,KAAAA,OACAR,QAAA,KAAAA,UAEA,OAAAoB,EAAAO,KACA,YAAAd,SAAAe,MAAA,oCACAH,QAAAC,IAAAN,GACA,KAAArB,aAAAqB,EAAAb,KAAAyB,SACA,KAAA/B,MAAAmB,EAAAb,KAAAN,KACA,EAEA,oBACA,MAAAM,KAAAa,SAAAa,EAAAA,EAAAA,IAAA,CACAxB,OAAA,KAAApC,WAAAkD,IACAf,OAAA,KAAAnC,WAAAiD,IACAU,SAAA,KAAAvC,YAEA,OAAA2B,EAAAO,KAAA,YAAAd,SAAAe,MAAA,UACA,KAAAf,SAAAgB,QAAA,QAEA,KAAAK,mBAEA,KAAAzC,UAAA,EACA,EACAS,cAAAiC,GACA,KAAAnC,QAAAmC,EACA,KAAAD,kBACA,EAEA,oBACA,MAAA3B,KAAAa,SAAAgB,EAAAA,EAAAA,IAAA,CACAd,IAAA,KAAAd,OACAe,IAAA,KAAAd,OACAe,MAAA,KAAAxC,MAEA,OAAAoC,EAAAO,KAAA,YAAAd,SAAAe,MAAAR,EAAAiB,SACA,KAAAxB,SAAAgB,QAAAT,EAAAiB,SACA,KAAArD,IAAA,CACA,GAGAsD,UACA,KAAA9B,OAAA,KAAA+B,OAAAC,MAAAhC,OACA,KAAAiC,iBACA,KAAAP,kBACA,EAEAQ,UAAA,GC9P8P,I,UCQ1PC,GAAY,OACd,EACApF,EACA+C,GACA,EACA,KACA,WACA,MAIF,EAAeqC,EAAiB,O","sources":["webpack://school_canteen/./src/views/food/index.vue","webpack://school_canteen/src/views/food/index.vue","webpack://school_canteen/./src/views/food/index.vue?26ef","webpack://school_canteen/./src/views/food/index.vue?c9f9"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isPay),expression:\"!isPay\"}],staticClass:\"one\"},[_c('div',{staticClass:\"header\"},[_vm._v(_vm._s(_vm.foodDetail.sname))]),_c('div',{staticClass:\"body\"},[_c('div',{staticClass:\"foodPic\"},[_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"src\":_vm.foodDetail.dimage}})]),_c('div',{staticClass:\"foodInfo\"},[_c('div',{staticClass:\"infoItem\"},[_vm._v(\" 菜品名称: \"),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.foodDetail.dname))])]),_c('div',{staticClass:\"infoItem\"},[_vm._v(\" 菜品价格: \"),_c('span',{staticClass:\"text\"},[_vm._v(\" \"+_vm._s(_vm.foodDetail.dprice)+\".00\")])]),_c('div',{staticClass:\"infoItem\"},[_vm._v(\" 菜品数量:\"),_c('el-input-number',{ref:\"counter\",attrs:{\"min\":1,\"max\":20},on:{\"blur\":_vm.handleChange},model:{value:(_vm.num),callback:function ($$v) {_vm.num=$$v},expression:\"num\"}})],1),_c('div',{staticClass:\"infoBtn\"},[_c('button',{staticClass:\"addCart\",on:{\"click\":_vm.addShopCart}},[_vm._v(\"添加到购物车\")]),_c('button',{staticClass:\"payNow\",on:{\"click\":function($event){_vm.isPay = true}}},[_vm._v(\"立即支付\")])])])]),_c('div',{ref:\"footer\",staticClass:\"footer\"},[_c('div',{staticClass:\"Ftitle\"},[_c('button',{class:!_vm.isComments ? 'detailBtn activeBtn ' : 'detailBtn',on:{\"click\":function($event){return _vm.choseOne(1)}}},[_vm._v(\" 菜品详情 \")]),_c('button',{class:_vm.isComments ? 'commentsBtn activeBtn ' : 'commentsBtn',on:{\"click\":function($event){return _vm.choseOne(2)}}},[_vm._v(\" 用户评论 \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isComments),expression:\"!isComments\"}],staticClass:\"info\"},[_c('div',{staticClass:\"infoDetail\"},[_vm._v(_vm._s(_vm.foodDetail.detail))])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isComments),expression:\"isComments\"}],staticClass:\"comments\"},[_c('div',{staticClass:\"saySome\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.myComment),expression:\"myComment\"}],staticClass:\"myComment\",attrs:{\"cols\":\"90\",\"rows\":\"3\",\"placeholder\":\"请输入100字以内的评论。\"},domProps:{\"value\":(_vm.myComment)},on:{\"input\":function($event){if($event.target.composing)return;_vm.myComment=$event.target.value}}}),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.myComment.length != 0),expression:\"myComment.length != 0\"}],staticClass:\"uploadComment\",on:{\"click\":_vm.addComments}},[_vm._v(\" 发表评论 \")])]),_c('div',{staticClass:\"commentsTable\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.userComments,\"stripe\":true,\"height\":\"100%\"}},[_c('el-table-column',{attrs:{\"prop\":\"date\",\"label\":\"日期\",\"width\":\"150\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"uname\",\"label\":\"用户\",\"width\":\"100\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"detail\",\"label\":\"评论\",\"align\":\"center\"}})],1)],1),_c('div',{staticClass:\"commentsPagination\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.pagenum,\"total\":_vm.total,\"page-size\":7,\"background\":\"\",\"layout\":\"total, prev, pager, next, jumper\"},on:{\"current-change\":_vm.pagenumChange,\"update:currentPage\":function($event){_vm.pagenum=$event},\"update:current-page\":function($event){_vm.pagenum=$event}}})],1)])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isPay),expression:\"isPay\"}],staticClass:\"two\"},[_c('el-result',{attrs:{\"title\":\"请使用支付宝支付\"}},[_c('template',{slot:\"icon\"},[_c('img',{staticClass:\"payIcon\",attrs:{\"src\":require(\"@/assets/images/ZFB.png\")}})]),_c('template',{slot:\"extra\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":_vm.payNow}},[_vm._v(\"确认支付\")])],1)],2)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 用于展示菜品的信息 -->\r\n    <div class=\"one\" v-show=\"!isPay\">\r\n      <div class=\"header\">{{ foodDetail.sname }}</div>\r\n      <!-- 菜品图片和菜品信息 -->\r\n      <div class=\"body\">\r\n        <div class=\"foodPic\">\r\n          <img :src=\"foodDetail.dimage\" style=\"width: 100%\" />\r\n        </div>\r\n        <div class=\"foodInfo\">\r\n          <div class=\"infoItem\">\r\n            菜品名称: <span class=\"text\">{{ foodDetail.dname }}</span>\r\n          </div>\r\n          <div class=\"infoItem\">\r\n            菜品价格: <span class=\"text\"> {{ foodDetail.dprice }}.00</span>\r\n          </div>\r\n          <div class=\"infoItem\">\r\n            菜品数量:<el-input-number\r\n              v-model=\"num\"\r\n              @blur=\"handleChange\"\r\n              :min=\"1\"\r\n              :max=\"20\"\r\n              ref=\"counter\"\r\n            ></el-input-number>\r\n          </div>\r\n          <div class=\"infoBtn\">\r\n            <button class=\"addCart\" @click=\"addShopCart\">添加到购物车</button>\r\n            <button class=\"payNow\" @click=\"isPay = true\">立即支付</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- 菜品详情和评论 -->\r\n      <div class=\"footer\" ref=\"footer\">\r\n        <div class=\"Ftitle\">\r\n          <button\r\n            :class=\"!isComments ? 'detailBtn activeBtn ' : 'detailBtn'\"\r\n            @click=\"choseOne(1)\"\r\n          >\r\n            菜品详情\r\n          </button>\r\n          <button\r\n            :class=\"isComments ? 'commentsBtn activeBtn ' : 'commentsBtn'\"\r\n            @click=\"choseOne(2)\"\r\n          >\r\n            用户评论\r\n          </button>\r\n        </div>\r\n        <!-- 以下是评论和菜品详情区域，用切换 -->\r\n        <!-- 菜品详情 -->\r\n        <div class=\"info\" v-show=\"!isComments\">\r\n          <div class=\"infoDetail\">{{ foodDetail.detail }}</div>\r\n        </div>\r\n        <!-- 用户评论 -->\r\n        <div class=\"comments\" v-show=\"isComments\">\r\n          <div class=\"saySome\">\r\n            <textarea\r\n              cols=\"90\"\r\n              rows=\"3\"\r\n              class=\"myComment\"\r\n              placeholder=\"请输入100字以内的评论。\"\r\n              v-model=\"myComment\"\r\n            ></textarea>\r\n            <button\r\n              class=\"uploadComment\"\r\n              v-show=\"myComment.length != 0\"\r\n              @click=\"addComments\"\r\n            >\r\n              发表评论\r\n            </button>\r\n          </div>\r\n          <div class=\"commentsTable\">\r\n            <el-table\r\n              :data=\"userComments\"\r\n              :stripe=\"true\"\r\n              style=\"width: 100%\"\r\n              height=\"100%\"\r\n            >\r\n              <el-table-column\r\n                prop=\"date\"\r\n                label=\"日期\"\r\n                width=\"150\"\r\n                align=\"center\"\r\n              >\r\n              </el-table-column>\r\n              <el-table-column\r\n                prop=\"uname\"\r\n                label=\"用户\"\r\n                width=\"100\"\r\n                align=\"center\"\r\n              >\r\n              </el-table-column>\r\n              <el-table-column prop=\"detail\" label=\"评论\" align=\"center\">\r\n              </el-table-column>\r\n            </el-table>\r\n          </div>\r\n          <!-- 分页 -->\r\n          <div class=\"commentsPagination\">\r\n            <el-pagination\r\n              @current-change=\"pagenumChange\"\r\n              :current-page.sync=\"pagenum\"\r\n              :total=\"total\"\r\n              :page-size=\"7\"\r\n              background\r\n              layout=\"total, prev, pager, next, jumper\"\r\n            >\r\n            </el-pagination>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"two\" v-show=\"isPay\">\r\n      <el-result title=\"请使用支付宝支付\">\r\n        <template slot=\"icon\">\r\n          <img class=\"payIcon\" src=\"@/assets/images/ZFB.png\" />\r\n        </template>\r\n        <template slot=\"extra\">\r\n          <el-button type=\"primary\" size=\"medium\" @click=\"payNow\"\r\n            >确认支付</el-button\r\n          >\r\n        </template>\r\n      </el-result>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  foodDetailAPI,\r\n  commentsAPI,\r\n  foodCommentsListAPI,\r\n  addShopCartAPI,\r\n  createOrderAPI,\r\n} from \"@/api\";\r\nexport default {\r\n  name: \"food\",\r\n  // =============================================以下是data=============================================\r\n  data() {\r\n    return {\r\n      // 菜品ID\r\n      foodID: \"\",\r\n      // 店铺ID\r\n      shopID: \"\",\r\n      // 菜品详情\r\n      foodDetail: {},\r\n      // 分页查询参数当前页码\r\n      pagenum: 1,\r\n\r\n      // 菜品数量\r\n      num: 1,\r\n      // 用于控制评论和菜品信息的转换\r\n      isComments: false,\r\n\r\n      // 输入的评论内容\r\n      myComment: \"\",\r\n      // 评论的总数\r\n      total: 0,\r\n      // 用户评论列表信息\r\n      userComments: [],\r\n      // 用于切换支付页面\r\n      isPay: false,\r\n    };\r\n  },\r\n  // =============================================以下是method=============================================\r\n  methods: {\r\n    // 用于检测计数器输入是否正常\r\n    handleChange(val) {\r\n      if (val.target.ariaValueNow == \"undefined\") {\r\n        this.$message.warning(\"请输入菜品数量\");\r\n        this.$refs.counter.focus();\r\n      }\r\n    },\r\n    // 用于切换菜品详情和用户评论\r\n    choseOne(flag) {\r\n      if (flag == 1) {\r\n        this.isComments = false;\r\n      } else if (flag == 2) {\r\n        this.isComments = true;\r\n      }\r\n    },\r\n    // 确认支付\r\n    payNow() {\r\n      this.createOrderFn();\r\n      this.isPay = false;\r\n    },\r\n    async createOrderFn() {\r\n      const { data: res } = await createOrderAPI({\r\n        did: this.foodID,\r\n        sid: this.shopID,\r\n        count: this.num,\r\n      });\r\n      console.log(res);\r\n      if (res.code != 0)\r\n        return this.$message.error(\"支付出现问题！请联系管理员！\");\r\n      this.$message.success(\"购买成功！\");\r\n    },\r\n    // 初始化菜品详情\r\n    async initFoodDetail() {\r\n      const { data: res } = await foodDetailAPI(this.foodID);\r\n      if (res.code !== 0)\r\n        return this.$message.error(\"Sorry! There is something wrong!\");\r\n      console.log(res);\r\n      this.foodDetail = res.data;\r\n      this.shopID = res.data.sid;\r\n    },\r\n    // 初始化评论列表\r\n    async initcommentsList() {\r\n      const { data: res } = await foodCommentsListAPI({\r\n        foodID: this.foodID,\r\n        pagenum: this.pagenum,\r\n      });\r\n      if (res.code !== 0)\r\n        return this.$message.error(\"Sorry! There is something wrong!\");\r\n      console.log(res);\r\n      this.userComments = res.data.comments;\r\n      this.total = res.data.total;\r\n    },\r\n    //  发表评论\r\n    async addComments() {\r\n      const { data: res } = await commentsAPI({\r\n        shopID: this.foodDetail.sid,\r\n        foodID: this.foodDetail.did,\r\n        comments: this.myComment,\r\n      });\r\n      if (res.code !== 0) return this.$message.error(\"评论是失败！\");\r\n      this.$message.success(\"评论成功\");\r\n      // 初始化评论列表\r\n      this.initcommentsList();\r\n      // 清除品论框内容\r\n      this.myComment = \"\";\r\n    }, // 页码值发生变化时调用\r\n    pagenumChange(newPage) {\r\n      this.pagenum = newPage;\r\n      this.initcommentsList();\r\n    },\r\n    // 添加至购物车\r\n    async addShopCart() {\r\n      const { data: res } = await addShopCartAPI({\r\n        did: this.foodID,\r\n        sid: this.shopID,\r\n        count: this.num,\r\n      });\r\n      if (res.code !== 0) return this.$message.error(res.message);\r\n      this.$message.success(res.message);\r\n      this.num = 1;\r\n    },\r\n  },\r\n  // =============================================以下是Created=============================================\r\n  created() {\r\n    this.foodID = this.$route.query.foodID;\r\n    this.initFoodDetail();\r\n    this.initcommentsList();\r\n  },\r\n  // =============================================以下是mounted=============================================\r\n  mounted() {},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.header {\r\n  height: 70px;\r\n  width: 1100px;\r\n  margin: 10px auto;\r\n  background-color: rgba(135, 166, 195, 0.5);\r\n  font-size: 45px;\r\n  font-weight: 600;\r\n  font-family: \"楷体\";\r\n  line-height: 70px;\r\n  text-align: center;\r\n  color: #cd975d;\r\n}\r\n.body {\r\n  height: 450px;\r\n  width: 1100px;\r\n  margin: 10px auto;\r\n  position: relative;\r\n}\r\n.foodPic {\r\n  width: 400px;\r\n  height: 400px;\r\n  background-color: azure;\r\n  position: absolute;\r\n  top: 25px;\r\n  left: 70px;\r\n}\r\n.foodInfo {\r\n  width: 500px;\r\n  height: 400px;\r\n  background-color: rgb(220, 220, 225);\r\n  position: absolute;\r\n  top: 25px;\r\n  right: 70px;\r\n  border-radius: 15px;\r\n}\r\n.infoItem {\r\n  width: 360px;\r\n  height: 50px;\r\n  margin-left: 40px;\r\n  margin-top: 40px;\r\n  font-size: 20px;\r\n  font-family: \"幼圆\";\r\n  line-height: 50px;\r\n  padding-left: 10px;\r\n  background-color: rgb(234, 237, 239);\r\n  border-radius: 10px;\r\n}\r\n.infoBtn {\r\n  width: 400px;\r\n  height: 80px;\r\n  margin: 30px auto;\r\n  line-height: 80px;\r\n}\r\n.addCart {\r\n  width: 150px;\r\n  height: 40px;\r\n  font-size: 20px;\r\n  font-family: \"幼圆\";\r\n  font-weight: 600;\r\n  border-radius: 15px;\r\n  border: rgb(136, 136, 130) solid 1px;\r\n  background-color: rgb(114, 114, 111);\r\n  color: rgb(212, 214, 216);\r\n  cursor: pointer;\r\n  margin-left: 20px;\r\n}\r\n.addCart:active {\r\n  background-color: rgb(122, 120, 120);\r\n}\r\n.payNow {\r\n  width: 100px;\r\n  height: 40px;\r\n  font-size: 20px;\r\n  font-family: \"幼圆\";\r\n  font-weight: 600;\r\n  border-radius: 15px;\r\n  background-color: rgb(255, 158, 56);\r\n  border: rgb(255, 158, 56) solid 1px;\r\n  cursor: pointer;\r\n  margin-left: 50px;\r\n  color: rgb(241, 233, 225);\r\n}\r\n.payNow:active {\r\n  background-color: rgb(241, 171, 97);\r\n}\r\n.footer {\r\n  width: 1100px;\r\n  margin: 0px auto;\r\n  margin-top: 25px;\r\n  border-radius: 20px;\r\n}\r\n.Ftitle {\r\n  width: 100%;\r\n  height: 45px;\r\n  background-color: rgb(209, 209, 204);\r\n  border-top-left-radius: 20px;\r\n  border-top-right-radius: 20px;\r\n}\r\n.detailBtn {\r\n  height: 45px;\r\n  width: 100px;\r\n  border: none;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: rgb(255, 255, 255);\r\n  border-top-left-radius: 20px;\r\n  background-color: rgb(152, 150, 150);\r\n  cursor: pointer;\r\n}\r\n.commentsBtn {\r\n  height: 45px;\r\n  width: 100px;\r\n  border: none;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: rgb(255, 255, 255);\r\n  border-top-right-radius: 20px;\r\n  background-color: rgb(152, 150, 150);\r\n  margin-left: 2px;\r\n  cursor: pointer;\r\n}\r\n.activeBtn {\r\n  background-color: rgb(74, 74, 74);\r\n  font-size: 20px;\r\n  color: rgb(255, 255, 255);\r\n}\r\n/* 菜品信息区域 */\r\n.info {\r\n  width: 100%;\r\n  height: 250px;\r\n  background-color: rgb(177, 184, 181);\r\n  border-bottom-left-radius: 20px;\r\n  border-bottom-right-radius: 20px;\r\n  padding-top: 1px;\r\n}\r\n.infoDetail {\r\n  width: 1060px;\r\n  height: 210px;\r\n  background-color: #dddbd9;\r\n  margin: 14px auto;\r\n  border-radius: 15px;\r\n  padding: 5px;\r\n}\r\n/* 评论区域 */\r\n.comments {\r\n  width: 100%;\r\n  height: 550px;\r\n  background-color: rgb(177, 184, 181);\r\n  border-bottom-left-radius: 20px;\r\n  border-bottom-right-radius: 20px;\r\n  padding-top: 1px;\r\n}\r\n.saySome {\r\n  width: 90%;\r\n  height: 60px;\r\n  margin: 10px auto;\r\n  border: rgb(177, 184, 181) solid transparent;\r\n  position: relative;\r\n}\r\n.myComment {\r\n  background-color: rgb(242, 242, 242);\r\n  border: #a3a19e solid 3px;\r\n  border-radius: 10px;\r\n  font-family: \"幼圆\";\r\n  resize: none;\r\n  position: absolute;\r\n  top: 5px;\r\n  left: 150px;\r\n}\r\n.uploadComment {\r\n  width: 80px;\r\n  height: 35px;\r\n  font-size: 15px;\r\n  font-family: \"幼圆\";\r\n  font-weight: 600;\r\n  background-color: rgb(211, 220, 230);\r\n  border: rgb(200, 201, 202) solid 2px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  color: rgb(79, 85, 91);\r\n  position: absolute;\r\n  top: 15px;\r\n  right: 130px;\r\n}\r\n.uploadComment:active {\r\n  background-color: rgb(228, 230, 232);\r\n}\r\n/* 展示评论 */\r\n.commentsTable {\r\n  width: 90%;\r\n  height: 383px;\r\n  background-color: rgb(218, 224, 224);\r\n  margin: 0 auto;\r\n  border-radius: 5px;\r\n}\r\n/* 评论分页器 */\r\n.commentsPagination {\r\n  width: 80%;\r\n  height: 50px;\r\n  text-align: center;\r\n  margin: 0px auto;\r\n  margin-top: 30px;\r\n}\r\n.payIcon {\r\n  width: 300px;\r\n}\r\n.text {\r\n  font-weight: 600;\r\n  font-family: \"楷体\";\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6c8efedc&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6c8efedc&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c8efedc\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","isPay","expression","staticClass","_v","_s","foodDetail","sname","staticStyle","attrs","dimage","dname","dprice","ref","on","handleChange","model","num","callback","$$v","addShopCart","$event","class","isComments","choseOne","detail","myComment","domProps","target","composing","length","addComments","userComments","pagenum","total","pagenumChange","slot","require","payNow","staticRenderFns","data","foodID","shopID","methods","val","ariaValueNow","$message","warning","$refs","counter","focus","flag","createOrderFn","res","createOrderAPI","did","sid","count","console","log","code","error","success","foodDetailAPI","foodCommentsListAPI","comments","commentsAPI","initcommentsList","newPage","addShopCartAPI","message","created","$route","query","initFoodDetail","mounted","component"],"sourceRoot":""}